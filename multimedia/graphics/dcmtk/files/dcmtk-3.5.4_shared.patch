diff -urN dcmtk-3.5.4/config/Makefile.def.in dcmtk-3.5.4_so/config/Makefile.def.in
--- dcmtk-3.5.4/config/Makefile.def.in	2004-11-12 05:43:35.000000000 -0800
+++ dcmtk-3.5.4_so/config/Makefile.def.in	2006-02-21 10:49:49.000000000 -0800
@@ -52,14 +52,18 @@
 # ARCH =
 
 CC = @CC@
-CFLAGS = @CFLAGS@
-CXX = @CXX@
-CXXFLAGS = @CXXFLAGS@
+SHARED_FLAGS = -fPIC -O2
+CFLAGS = $(SHARED_FLAGS) @CFLAGS@
+CXX =  @CXX@
+CXXFLAGS = $(SHARED_FLAGS) @CXXFLAGS@
 CPPFLAGS = @CPPFLAGS@
 LDFLAGS = @LDFLAGS@
-RANLIB = @RANLIB@
-AR = @AR@
-ARFLAGS = @ARFLAGS@
+# RANLIB = @RANLIB@
+RANLIB = :
+# AR = @AR@
+AR = gcc
+# ARFLAGS = @ARFLAGS@
+ARFLAGS = -shared -o
 LIBS = @LIBS@
 MATHLIBS = @MATHLIBS@
 OPENSSLLIBS = @OPENSSLLIBS@
@@ -68,7 +72,8 @@
 ZLIBLIBS = @ZLIBLIBS@
 XMLLIBS = @XMLLIBS@
 TCPWRAPPERLIBS = @TCPWRAPPERLIBS@
-LIBEXT = @LIBEXT@
+# LIBEXT = @LIBEXT@
+LIBEXT = so
 BINEXT = @BINEXT@
 INSTALL_PRIVATE_DICTIONARY = @INSTALL_PRIVATE_DICTIONARY@
 
